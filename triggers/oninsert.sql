DROP TABLE has_created;

CREATE TABLE has_created(id INT GENERATED BY DEFAULT AS IDENTITY, created TIMESTAMP);

CREATE OR REPLACE FUNCTION created() RETURNS TRIGGER LANGUAGE plpgsql AS $$
BEGIN
    NEW.created = now();
    RETURN NEW;
END;
$$;

CREATE TRIGGER trig1 BEFORE INSERT ON has_created FOR EACH ROW EXECUTE PROCEDURE created();

INSERT INTO has_created (id) VALUES (1);

SELECT * FROM has_created;